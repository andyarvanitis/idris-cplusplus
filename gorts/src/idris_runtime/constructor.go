package idris_runtime

import . "reflect"

//-------------------------------------------------------------------------------------------------
// Data structures
//-------------------------------------------------------------------------------------------------

type Con struct {
  tag uintptr
  args []interface{}
}

//-------------------------------------------------------------------------------------------------
// Constants
//-------------------------------------------------------------------------------------------------

const invalidTag = ^uintptr(0)

//-------------------------------------------------------------------------------------------------
// Creation/accessor functions
//-------------------------------------------------------------------------------------------------

func MakeCon(tag uintptr, args ...interface{}) Con {
  return Con{tag, args}
}

func GetTag(con interface{}) uintptr {
  if con != nil {
    return ValueOf(con).Interface().(Con).tag
  } else {
    return invalidTag
  }
}
